<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Invoice - {{ order_number }}</title>

    <!-- Bootstrap CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      .invoice-header {
        border-bottom: 1px solid #0d6efd;
        margin-bottom: 10px;
        padding-bottom: 10px;
      }
      .total-box {
        background: #f1f3f5;
        padding: 5px;
        border-radius: 6px;
      }
      @media print {
        .btn-no {
          display: none !important;
        }
        .invoice-header {
          display: flex !important;
          justify-content: space-between !important;
          align-items: center !important;
        }
        body {
          background-color: white;
          font-size: 12px;  /* Adjust font size for print */
        }
        .table {
          width: 100%;
          border-collapse: collapse;
        }
        .table th, .table td {
          padding: 8px 12px;
          border: 1px solid #ddd;
        }
        .table th {
          background-color: #f2f2f2;
        }
        .text-end {
          text-align: right;
        }
      }
    </style>
  </head>

  <body>
    <div class="container-fluid py-2">
      <div class="row">
        <div class="col-md-12">
          <div class="invoice-box">
            <!-- Header -->
            <div class="invoice-header d-flex justify-content-between align-items-center">
              <div width="50%">
                <h3 class="text-primary mb-0">INVOICE</h3>
                <small class="text-muted">Order No: {{ order_number }}</small>
              </div width="50%">
              <div class="text-end">
                <h5 class="mb-0">Your Company</h5>
                <small class="text-muted">support@yourcompany.com</small>
              </div>
            </div>

            <!-- Billing Information -->
            <div class="d-flex justify-content-between mb-2 ">
              <div class="col-md-6">
                <p class="mb-1 text-muted">
                  <strong>Name:</strong> {{ user.first_name }} {{ user.last_name }}
                </p>
                <p class="mb-1 text-muted">
                  <strong>Address:</strong> {{ address.address }}
                </p>
                <p class="mb-1 text-muted">
                  <strong>Phone:</strong> {{ user.phone }}
                </p>
              </div>
              <div class="col-md-6 text-end">
                <p class="mb-1 text-muted">
                  <strong>Date:</strong> {{ address.order_time }}
                </p>
                <p class="mb-1 text-muted">
                  <strong>Payment Mode:</strong> {{ payment_mode }}
                </p>
              </div>
            </div>

            <!-- Order Table -->
            <div class="table-responsive">
              <table class="table table-bordered align-middle">
                <thead class="table-primary">
                  <tr>
                    <th>S.No</th>
                    <th>Item</th>
                    <th class="text-end">Price (Rs)</th>
                    <th class="text-center">Qty</th>
                    <th class="text-end">Total</th>
                  </tr>
                </thead>
                <tbody>
                  {% for item in orders_data %}
                  <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ item.food.item_name }}</td>
                    <td class="text-end">{{ item.food.item_price }}</td>
                    <td class="text-center">{{ item.quantity }}</td>
                    <td class="text-end">{{ item.total_price }}</td>
                  </tr>
                  {% endfor %}
                  <tr class="text-end">
                    <td colspan="4">
                      <strong>Grand Total:</strong>
                    </td>
                    <td>
                      <strong>Rs. {{ grand_total }}</strong>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <!-- Footer -->
            <div class="text-center">
              <p class="text-muted mb-0 pb-0">Thank you for your order!</p>
              <small class="text-muted">
                This is a system-generated invoice.
              </small>
            </div>
          </div>

          <!-- Print Invoice Button (Only visible in screen, hidden for print) -->
          <button class="btn-no btn btn-primary">
            <a
              href="javascript:window.print()"
              class="text-decoration-none text-white"
            >
              Print Invoice
            </a>
          </button>
        </div>
      </div>
    </div>
  </body>
</html>
